import{r as F}from"./vendor.CR8mg7iI.js";import{r,F as O,f as P,a as M,b as q}from"./icons.C7Qy1yxh.js";var C={exports:{}},E={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $;function W(){if($)return E;$=1;var n=F(),l=Symbol.for("react.element"),c=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function w(f,i,b){var s,g={},_=null,v=null;b!==void 0&&(_=""+b),i.key!==void 0&&(_=""+i.key),i.ref!==void 0&&(v=i.ref);for(s in i)d.call(i,s)&&!m.hasOwnProperty(s)&&(g[s]=i[s]);if(f&&f.defaultProps)for(s in i=f.defaultProps,i)g[s]===void 0&&(g[s]=i[s]);return{$$typeof:l,type:f,key:_,ref:v,props:g,_owner:o.current}}return E.Fragment=c,E.jsx=w,E.jsxs=w,E}var R;function z(){return R||(R=1,C.exports=W()),C.exports}var t=z();const B=n=>{const l=c=>new Promise(d=>{const o=new Image;o.onload=()=>d(),o.onerror=()=>{console.error(`Failed to load image: ${c}`),d()},o.src=c});return Promise.all(n.map(l))},J=(n,l)=>{const[c,d]=r.useState(0),[o,m]=r.useState(!1),[w,f]=r.useState(1),[i,b]=r.useState(!1),s=r.useRef(null),g=r.useCallback(e=>{let p=e;p>=n.length?p=0:p<0&&(p=n.length-1),d(p)},[n.length]),_=r.useCallback(e=>{g(c+e)},[c,g]),v=r.useCallback(e=>{e.preventDefault(),s.current=e.touches[0].clientX},[]),a=r.useCallback(e=>{if(s.current===null)return;const p=e.changedTouches[0].clientX,j=s.current-p;Math.abs(j)>50&&_(j>0?1:-1),s.current=null},[_]),u=r.useCallback(e=>{e.preventDefault()},[]),T=r.useCallback(()=>{m(!0)},[]),D=r.useCallback(()=>{m(!1),f(1)},[]),S=r.useCallback(e=>{if(o&&i){e.preventDefault();const p=e.deltaY*-.002;f(j=>{const L=j+p;return Math.min(Math.max(L,1.05),2)})}},[o,i]),N=r.useCallback(()=>{!document.fullscreenElement&&l.current?l.current.requestFullscreen().then(()=>b(!0)).catch(e=>console.error(`Error enabling fullscreen: ${e.message}`)):document.fullscreenElement&&document.exitFullscreen().then(()=>b(!1)).catch(e=>console.error(`Error exiting fullscreen: ${e.message}`)),f(1)},[l]);return r.useEffect(()=>{const e=l.current;if(e)return e.addEventListener("touchstart",v,{passive:!1}),e.addEventListener("touchend",a,{passive:!1}),e.addEventListener("touchmove",u,{passive:!1}),e.addEventListener("wheel",S,{passive:!1}),()=>{e.removeEventListener("touchstart",v),e.removeEventListener("touchend",a),e.removeEventListener("touchmove",u),e.removeEventListener("wheel",S)}},[v,a,u,S]),r.useEffect(()=>{const e=p=>{p.key==="ArrowLeft"&&_(-1),p.key==="ArrowRight"&&_(1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[_]),r.useEffect(()=>{const e=()=>{b(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>{document.removeEventListener("fullscreenchange",e)}},[]),{currentSlide:c,showSlide:g,changeSlide:_,pauseSlideshow:T,resumeSlideshow:D,scale:w,handleWheel:S,isFullscreen:i,toggleFullscreen:N}},U="_mainContainer_1wpew_6",H="_slideshowContainer_1wpew_13",A="_slide_1wpew_13",G="_imageWrapper_1wpew_45",X="_fullscreen_1wpew_63",K="_loading_1wpew_71",V="_error_1wpew_80",Y="_mainImage_1wpew_89",Q="_loaded_1wpew_97",Z="_thumbnailContainer_1wpew_105",ee="_thumbnail_1wpew_105",ne="_activeThumbnail_1wpew_131",te="_controls_1wpew_140",se="_githubButton_1wpew_168",h={mainContainer:U,slideshowContainer:H,slide:A,imageWrapper:G,fullscreen:X,loading:K,error:V,mainImage:Y,loaded:Q,thumbnailContainer:Z,thumbnail:ee,activeThumbnail:ne,controls:te,githubButton:se},oe={development:{baseUrl:"/pictures"},production:{baseUrl:"/pictures"}},I=n=>`${oe.production.baseUrl}/${n}`,ae="_button_1sam3_1",re="_close_1sam3_27",le="_download_1sam3_28",ce="_github_1sam3_33",ie="_link_1sam3_42",k={button:ae,close:re,download:le,github:ce,link:ie},y=({icon:n,onClick:l,ariaLabel:c,className:d,children:o,variant:m="default",href:w,target:f,rel:i})=>{const b=`${k.button} ${k[m]} ${d||""}`,s=t.jsxs(t.Fragment,{children:[n&&t.jsx(O,{icon:n}),o]});return w?t.jsx("a",{href:w,target:f,rel:i,className:k.link,children:t.jsx("button",{className:b,onClick:l,"aria-label":c,children:s})}):t.jsx("button",{className:b,onClick:l,"aria-label":c,children:s})},ue=({onClose:n,onDownload:l})=>t.jsxs("div",{className:h.controls,children:[t.jsx(y,{icon:P,onClick:n,ariaLabel:"Exit fullscreen",variant:"close"}),t.jsx(y,{icon:M,onClick:l,ariaLabel:"Download current image",variant:"download"})]}),de="_fadeIn_ljyql_19",me="_slideIn_ljyql_23",he={fadeIn:de,slideIn:me},fe=({image:n,isVisible:l,scale:c,isFullscreen:d,onImageError:o,onClick:m})=>t.jsx("div",{className:`${h.slide} ${he.fadeIn}`,style:{display:l?"block":"none"},children:t.jsx("div",{className:h.imageWrapper,style:{transform:`scale(${c})`,cursor:d?"zoom-in":"pointer"},onClick:m,children:t.jsx("img",{src:n.url,alt:n.alt,className:h.mainImage,onError:()=>o(n.id),onLoad:w=>w.currentTarget.classList.add(h.loaded)})})}),_e=()=>t.jsx(y,{icon:q,onClick:()=>{},ariaLabel:"View source on GitHub",variant:"github",href:"https://github.com/juanmanueldaza/wallpapers",target:"_blank",rel:"noopener noreferrer"}),pe=()=>t.jsx("div",{className:h.loading,children:"Loading images..."}),we=({images:n,currentSlide:l,onThumbnailClick:c})=>t.jsx("div",{className:h.thumbnailContainer,children:n.map((d,o)=>t.jsx("img",{src:d.urlthumbnail,alt:`Thumbnail ${o+1}`,className:`${h.thumbnail} ${o===l?h.activeThumbnail:""}`,onClick:()=>c(o),onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&c(o)},tabIndex:0,role:"button","aria-label":`Show slide ${o+1}`},d.id))}),be=n=>({id:n,url:I(`daza${n}-medium.webp`),urlthumbnail:I(`daza${n}-small.webp`),urldownload:I(`daza${n}.jpg`),alt:`Slide ${n}`}),ge=["007","009","024","036","047","051","052","054","060","061","063","063","067","072","088","128","131","136","140","143","474","478"],x=ge.map(be),ve=()=>{const[n,l]=r.useState(!0),[c,d]=r.useState(null),o=r.useRef(null),{currentSlide:m,showSlide:w,pauseSlideshow:f,resumeSlideshow:i,scale:b,isFullscreen:s,toggleFullscreen:g}=J(x,o);r.useEffect(()=>{const a=x.flatMap(u=>[u.url,u.urlthumbnail]);B(a).then(()=>l(!1)).catch(u=>console.error("Error preloading images:",u))},[]);const _=a=>{d(`Failed to load image ${a}`)},v=()=>{const a=x[m],u=document.createElement("a");u.href=a.urldownload,u.download=`uwJuamManuelDaza-${a.id}.jpg`,document.body.appendChild(u),u.click(),document.body.removeChild(u)};return n?t.jsx(pe,{}):t.jsxs("div",{className:h.mainContainer,onTouchStart:a=>a.preventDefault(),onTouchMove:a=>a.preventDefault(),children:[!s&&t.jsx(_e,{}),t.jsxs("div",{ref:o,className:`${h.slideshowContainer} ${s?h.fullscreen:""}`,onMouseEnter:f,onMouseLeave:i,onTouchStart:a=>a.preventDefault(),onTouchMove:a=>a.preventDefault(),children:[s&&t.jsx(ue,{onClose:g,onDownload:v}),x.map((a,u)=>t.jsx(fe,{image:a,isVisible:u===m,scale:b,isFullscreen:s,onImageError:_,onClick:g},a.id)),c&&t.jsx("div",{className:h.error,children:c})]}),!s&&t.jsx(we,{images:x,currentSlide:m,onThumbnailClick:w})]})},Se=Object.freeze(Object.defineProperty({__proto__:null,default:ve},Symbol.toStringTag,{value:"Module"}));export{Se as S,t as j};
