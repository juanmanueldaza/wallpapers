import{r as P}from"./vendor.CR8mg7iI.js";import{r,F as M,f as W,a as B,b as q}from"./icons.C7Qy1yxh.js";var k={exports:{}},E={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z;function J(){if(z)return E;z=1;var n=P(),l=Symbol.for("react.element"),c=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function p(_,i,g){var o,b={},h=null,w=null;g!==void 0&&(h=""+g),i.key!==void 0&&(h=""+i.key),i.ref!==void 0&&(w=i.ref);for(o in i)u.call(i,o)&&!m.hasOwnProperty(o)&&(b[o]=i[o]);if(_&&_.defaultProps)for(o in i=_.defaultProps,i)b[o]===void 0&&(b[o]=i[o]);return{$$typeof:l,type:_,key:h,ref:w,props:b,_owner:s.current}}return E.Fragment=c,E.jsx=p,E.jsxs=p,E}var D;function U(){return D||(D=1,k.exports=J()),k.exports}var t=U();const H=n=>{const l=c=>new Promise(u=>{const s=new Image;s.onload=()=>u(),s.onerror=()=>{console.error(`Failed to load image: ${c}`),u()},s.src=c});return Promise.all(n.map(l))},A=(n,l)=>{const[c,u]=r.useState(0),[s,m]=r.useState(!1),[p,_]=r.useState(1),[i,g]=r.useState(!1),o=r.useRef(null),b=r.useCallback(e=>{let f=e;f>=n.length?f=0:f<0&&(f=n.length-1),u(f)},[n.length]),h=r.useCallback(e=>{b(c+e)},[c,b]),w=r.useCallback(e=>{e.preventDefault(),o.current=e.touches[0].clientX},[]),a=r.useCallback(e=>{if(o.current===null)return;const f=e.changedTouches[0].clientX,S=o.current-f;Math.abs(S)>50&&h(S>0?1:-1),o.current=null},[h]),d=r.useCallback(e=>{e.preventDefault()},[]),N=r.useCallback(()=>{m(!0)},[]),F=r.useCallback(()=>{m(!1),_(1)},[]),C=r.useCallback(e=>{if(s&&i){e.preventDefault();const f=e.deltaY*-.002;_(S=>{const R=S+f;return Math.min(Math.max(R,1.05),2)})}},[s,i]),O=r.useCallback(()=>{!document.fullscreenElement&&l.current?l.current.requestFullscreen().then(()=>g(!0)).catch(e=>console.error(`Error enabling fullscreen: ${e.message}`)):document.fullscreenElement&&document.exitFullscreen().then(()=>g(!1)).catch(e=>console.error(`Error exiting fullscreen: ${e.message}`)),_(1)},[l]);return r.useEffect(()=>{const e=l.current;if(e)return e.addEventListener("touchstart",w,{passive:!1}),e.addEventListener("touchend",a,{passive:!1}),e.addEventListener("touchmove",d,{passive:!1}),e.addEventListener("wheel",C,{passive:!1}),()=>{e.removeEventListener("touchstart",w),e.removeEventListener("touchend",a),e.removeEventListener("touchmove",d),e.removeEventListener("wheel",C)}},[w,a,d,C]),r.useEffect(()=>{const e=f=>{f.key==="ArrowLeft"&&h(-1),f.key==="ArrowRight"&&h(1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[h]),r.useEffect(()=>{const e=()=>{g(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>{document.removeEventListener("fullscreenchange",e)}},[]),{currentSlide:c,showSlide:b,changeSlide:h,pauseSlideshow:N,resumeSlideshow:F,scale:p,handleWheel:C,isFullscreen:i,toggleFullscreen:O}},G="_mainContainer_1wpew_6",X="_slideshowContainer_1wpew_13",K="_slide_1wpew_13",V="_imageWrapper_1wpew_45",Y="_fullscreen_1wpew_63",Q="_loading_1wpew_71",Z="_error_1wpew_80",ee="_mainImage_1wpew_89",ne="_loaded_1wpew_97",te="_thumbnailContainer_1wpew_105",oe="_thumbnail_1wpew_105",se="_activeThumbnail_1wpew_131",ae="_controls_1wpew_140",re="_githubButton_1wpew_168",j={mainContainer:G,slideshowContainer:X,slide:K,imageWrapper:V,fullscreen:Y,loading:Q,error:Z,mainImage:ee,loaded:ne,thumbnailContainer:te,thumbnail:oe,activeThumbnail:se,controls:ae,githubButton:re},le={development:{baseUrl:"/pictures"},production:{baseUrl:"/pictures"}},y=n=>`${le.production.baseUrl}/${n}`,ce="_controls_1sjz3_1",ie={controls:ce},ue="_button_l9vfr_1 _button-base_nczpu_16",de="_icon_l9vfr_17",me="_close_l9vfr_23",_e="_download_l9vfr_24",he="_github_l9vfr_28",fe="_link_l9vfr_32",$={button:ue,icon:de,close:me,download:_e,github:he,link:fe},I=(...n)=>n.filter(Boolean).join(" "),T=({icon:n,onClick:l,ariaLabel:c,className:u,children:s,variant:m="default",href:p,target:_,rel:i})=>{const g=({className:o})=>t.jsxs("button",{className:I($.button,$[m],o),onClick:l,"aria-label":c,children:[n&&t.jsx(M,{icon:n,className:$.icon}),s]});return p?t.jsx("a",{href:p,target:_,rel:i,className:$.link,children:t.jsx(g,{className:u||""})}):t.jsx(g,{className:u||""})},pe=({onClose:n,onDownload:l})=>t.jsxs("div",{className:ie.controls,children:[t.jsx(T,{icon:W,onClick:n,ariaLabel:"Exit fullscreen",variant:"close"}),t.jsx(T,{icon:B,onClick:l,ariaLabel:"Download current image",variant:"download"})]}),ge="_slide_1gz6t_1",be="_hidden_1gz6t_11",we="_fadeIn_1gz6t_15",ve="_imageWrapper_1gz6t_19 _noInteraction_nczpu_1",Ee="_mainImage_1gz6t_31 _image-base_nczpu_10",xe="_fullscreen_1gz6t_38",Ce="_loaded_1gz6t_42",v={slide:ge,hidden:be,fadeIn:we,imageWrapper:ve,mainImage:Ee,fullscreen:xe,loaded:Ce},Se=({image:n,isVisible:l,scale:c,isFullscreen:u,onImageError:s,onClick:m})=>t.jsx("div",{className:I(v.slide,v.fadeIn,!l&&v.hidden),children:t.jsx("div",{className:I(v.imageWrapper,u&&v.fullscreen),style:{transform:`scale(${c})`},onClick:m,children:t.jsx("img",{src:n.url,alt:n.alt,className:I(v.mainImage),onError:()=>s(n.id),onLoad:p=>p.currentTarget.classList.add(v.loaded)})})}),je=()=>t.jsx(T,{icon:q,onClick:()=>{},ariaLabel:"View source on GitHub",variant:"github",href:"https://github.com/juanmanueldaza/wallpapers",target:"_blank",rel:"noopener noreferrer"}),$e="_loading_1ub51_1",Ie={loading:$e},ke=()=>t.jsx("div",{className:Ie.loading,children:"Loading images..."}),ye="_thumbnailContainer_1azye_1",Le="_thumbnail_1azye_1",Te="_activeThumbnail_1azye_27",L={thumbnailContainer:ye,thumbnail:Le,activeThumbnail:Te},Re=({images:n,currentSlide:l,onThumbnailClick:c})=>t.jsx("div",{className:L.thumbnailContainer,children:n.map((u,s)=>t.jsx("img",{src:u.urlthumbnail,alt:`Thumbnail ${s+1}`,className:`${L.thumbnail} ${s===l?L.activeThumbnail:""}`,onClick:()=>c(s),onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&c(s)},tabIndex:0,role:"button","aria-label":`Show slide ${s+1}`},u.id))}),ze=n=>({id:n,url:y(`daza${n}-medium.webp`),urlthumbnail:y(`daza${n}-small.webp`),urldownload:y(`daza${n}.jpg`),alt:`Slide ${n}`}),De=["051","052","054","072","088","478"],x=De.map(ze),Ne=()=>{const[n,l]=r.useState(!0),[c,u]=r.useState(null),s=r.useRef(null),{currentSlide:m,showSlide:p,pauseSlideshow:_,resumeSlideshow:i,scale:g,isFullscreen:o,toggleFullscreen:b}=A(x,s);r.useEffect(()=>{const a=x.flatMap(d=>[d.url,d.urlthumbnail]);H(a).then(()=>l(!1)).catch(d=>console.error("Error preloading images:",d))},[]);const h=a=>{u(`Failed to load image ${a}`)},w=()=>{const a=x[m],d=document.createElement("a");d.href=a.urldownload,d.download=`uwJuamManuelDaza-${a.id}.jpg`,document.body.appendChild(d),d.click(),document.body.removeChild(d)};return n?t.jsx(ke,{}):t.jsxs("div",{className:j.mainContainer,onTouchStart:a=>a.preventDefault(),onTouchMove:a=>a.preventDefault(),children:[!o&&t.jsx(je,{}),t.jsxs("div",{ref:s,className:`${j.slideshowContainer} ${o?j.fullscreen:""}`,onMouseEnter:_,onMouseLeave:i,onTouchStart:a=>a.preventDefault(),onTouchMove:a=>a.preventDefault(),children:[o&&t.jsx(pe,{onClose:b,onDownload:w}),x.map((a,d)=>t.jsx(Se,{image:a,isVisible:d===m,scale:g,isFullscreen:o,onImageError:h,onClick:b},a.id)),c&&t.jsx("div",{className:j.error,children:c})]}),!o&&t.jsx(Re,{images:x,currentSlide:m,onThumbnailClick:p})]})},Pe=Object.freeze(Object.defineProperty({__proto__:null,default:Ne},Symbol.toStringTag,{value:"Module"}));export{Pe as S,t as j};
